2-8 进程及其状态
一个进程包括5个实体部分：
数据结构p
内存代码c
内存数据d
通用寄存器信息r
程序状态字信息psw
 
进程状态：
运行态：进程占有处理器运行
就绪态：进程具备运行条件等待处理器运行
等待态：进程由于等待资源、输入输出、信号等而不具备运行条件
 
 
运行资源不足：性能低、死锁
进程挂起：不具备任何资源
 
一般先解除挂起就绪态的进程，进入就绪态
 
2-9 进程的数据描述
进程控制块 process control block
 
 
进程映像 process image
进程控制块
进程程序块
进程数据块
核心栈
 
进程上下文 process context
包括进程物理实体和支持进程运行的环境
刻画了进程的执行情况
 
用户级上下文
寄存器上下文
系统级上下文
 
2-10 进程的管理
 
 
创建：进程表加一项，申请pcb并初始化，生成标识，建立映像，分配资源，移入就绪队列
撤销：从队列中移除，归还资源，撤销标识，回收pcb，移除进程表项
阻塞：修改pcb，移入等待队列，调度其他进程执行
唤醒：等待队列中移出，修改pcb，移入就绪队列
挂起：修改状态并出入相关队列，收回内存等资源，送至对换区
激活：分配内存，修改状态，出入相关队列
 
原语
由若干条指令构成的完成某种特定功能的程序，执行上具有不可分割性
 
2-11 进程切换和模式切换
进程切换：从正在运行的进程中收回处理器，让待运行进程来占有处理器运行
被中断运行进程与待运行进程的上下文切换：
保存被中断进程的上下文
转向进程调度
恢复待运行的上下文
 
进程切换必须在内核模式下完成
 
模式切换：
用户模式-》内核模式
内核模式-》用户模式
 
2-15 处理器调度层次
 
 
 
选择处理器调度算法的原则：
资源利用率
响应时间
周转时间
吞吐量
公平性
 
优先数调度算法
根据分配给进程的优先数决定运行进程
非抢占式：先完成手头的进程，再处理余下优先数最大的进程
抢占式：总是运行优先数最大的进程
 
优先数的确定
计算时间短优先
剩余计算时间短进程优先
响应比（等待时间/估计计算时间）高者优先
先来先服务
 
时间片轮转调度算法
根据各个进程进入就绪队列的时间
先后轮流占有cpu的一个时间片
 
时间片的确定：选择长短合适的时间片，过长则退化为先来先服务算法，过短则调度开销大
 
分级调度算法：多队列策略，反馈循环队列
建立多个不同优先级的就绪进程队列
高优先级时间片短
 
彩票调度算法
为进程发放针对系统各种资源的彩票；当调度程序需要作出决策时，随机选择一张彩票，持有该彩票的进程将获得系统资源
 
e.g. 有10台客户端，选择连接1台服务器。
有100张彩票，给每个客户端派发10张彩票
当客户端需要连接服务器时，将手中的10张彩票交给服务器
服务器抽取彩票，彩票的来源客户端与服务器连接

